{"ast":null,"code":"var _jsxFileName = \"/Users/emilessung/dev/psy-website/src/components/article/write/WriteArticle.tsx\";\nimport * as React from 'react';\nimport 'tinymce/tinymce';\nimport contentManager from '../../../ContentManager';\nimport DropDown from '../../common/DropDown';\n// import 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n// import {EditorState} from 'draft-js';\nimport SunEditor from 'suneditor-react';\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\n\nimport { align, font, fontColor, fontSize, formatBlock, hiliteColor, horizontalRule, lineHeight, list, paragraphStyle, table, template, textStyle, image, link } from 'suneditor/src/plugins';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass WriteArticle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.editorRef = /*#__PURE__*/React.createRef();\n\n    this.getSunEditorInstance = sunEditor => {\n      this.editorRef.current = sunEditor;\n    };\n\n    this.componentDidMount = this.componentDidMount.bind(this);\n    this.getArticleTitles = this.getArticleTitles.bind(this);\n    this.state = {\n      articleTitles: [],\n      currentArticle: undefined\n    };\n  }\n\n  handleChange(content) {\n    console.log('OnChange: ', content);\n  }\n\n  getArticleTitles() {\n    var _this$editorRef$curre;\n\n    console.log(JSON.parse(JSON.stringify(contentManager.articles)));\n    this.setState({\n      articleTitles: []\n    });\n    contentManager.articles.forEach(article => {\n      this.setState({\n        articleTitles: [...this.state.articleTitles, article.title]\n      });\n    });\n    this.setState({\n      currentArticle: contentManager.articles[0]\n    });\n    (_this$editorRef$curre = this.editorRef.current) === null || _this$editorRef$curre === void 0 ? void 0 : _this$editorRef$curre.setContents(this.state.currentArticle ? this.state.currentArticle.data : '');\n  }\n\n  updatePublish() {}\n\n  saveArticle(e) {\n    var _this$state$currentAr;\n\n    e.preventDefault();\n    contentManager.modifyArticle((_this$state$currentAr = this.state.currentArticle) === null || _this$state$currentAr === void 0 ? void 0 : _this$state$currentAr.id);\n  }\n\n  componentDidMount() {\n    contentManager.addListener('article', this.getArticleTitles);\n  }\n\n  componentWillUnmount() {\n    contentManager.removeListener('article', this.getArticleTitles);\n  }\n\n  render() {\n    var _this$state$currentAr2, _this$state$currentAr3;\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(DropDown, {\n        options: this.state.articleTitles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: this.state.currentArticle ? this.state.currentArticle.title : 'Title',\n          onChange: (_this$state$currentAr2 = this.state.currentArticle) === null || _this$state$currentAr2 === void 0 ? void 0 : _this$state$currentAr2.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: this.state.currentArticle ? this.state.currentArticle.description : 'Description'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"published\", /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"published\",\n            type: \"checkBox\",\n            onChange: this.updatePublish\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.saveArticle,\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(SunEditor, {\n        autoFocus: true,\n        lang: \"en\",\n        setOptions: {\n          showPathLabel: false,\n          minHeight: '50vh',\n          maxHeight: '50vh',\n          placeholder: 'Your text here',\n          plugins: [align, font, fontColor, fontSize, formatBlock, hiliteColor, horizontalRule, lineHeight, list, paragraphStyle, table, template, textStyle, image, link],\n          buttonList: [['undo', 'redo'], ['font', 'fontSize', 'formatBlock'], ['paragraphStyle'], ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'], ['fontColor', 'hiliteColor'], ['removeFormat'], '/', // Line break\n          ['outdent', 'indent'], ['align', 'horizontalRule', 'list', 'lineHeight'], ['table', 'link', 'image']],\n          formats: ['p', 'div', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n          font: ['Arial', 'Calibri', 'Comic Sans', 'Courier', 'Garamond', 'Georgia', 'Impact', 'Lucida Console', 'Palatino Linotype', 'Segoe UI', 'Tahoma', 'Times New Roman', 'Trebuchet MS']\n        },\n        onChange: this.handleChange,\n        getSunEditorInstance: this.getSunEditorInstance //                    defaultValue= {this.state.currentArticle ? this.state.currentArticle.data : \"<p>Your text here...</p>\"}\n        ,\n        defaultValue: (_this$state$currentAr3 = this.state.currentArticle) === null || _this$state$currentAr3 === void 0 ? void 0 : _this$state$currentAr3.data\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default WriteArticle;","map":{"version":3,"sources":["/Users/emilessung/dev/psy-website/src/components/article/write/WriteArticle.tsx"],"names":["React","contentManager","DropDown","SunEditor","align","font","fontColor","fontSize","formatBlock","hiliteColor","horizontalRule","lineHeight","list","paragraphStyle","table","template","textStyle","image","link","WriteArticle","Component","constructor","props","editorRef","createRef","getSunEditorInstance","sunEditor","current","componentDidMount","bind","getArticleTitles","state","articleTitles","currentArticle","undefined","handleChange","content","console","log","JSON","parse","stringify","articles","setState","forEach","article","title","setContents","data","updatePublish","saveArticle","e","preventDefault","modifyArticle","id","addListener","componentWillUnmount","removeListener","render","description","showPathLabel","minHeight","maxHeight","placeholder","plugins","buttonList","formats"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport 'tinymce/tinymce';\nimport contentManager from '../../../ContentManager';\nimport DropDown from '../../common/DropDown';\nimport {Article} from '../../../interfaces';\n\nimport firebase from 'firebase';\n// import 'react-draft-wysiwyg/dist/react-draft-wysiwyg.css';\n// import {EditorState} from 'draft-js';\n\nimport SunEditor from 'suneditor-react';\nimport SunEditorCore from 'suneditor/src/lib/core';\nimport 'suneditor/dist/css/suneditor.min.css'; // Import Sun Editor's CSS File\nimport {\n    align,\n    font,\n    fontColor,\n    fontSize,\n    formatBlock,\n    hiliteColor,\n    horizontalRule,\n    lineHeight,\n    list,\n    paragraphStyle,\n    table,\n    template,\n    textStyle,\n    image,\n    link\n} from 'suneditor/src/plugins';\n\nexport interface WriteArticleProps {}\n\nexport interface WriteArticleState {\n    articleTitles: string[];\n    currentArticle: Article | undefined;\n}\n\nclass WriteArticle extends React.Component<WriteArticleProps, WriteArticleState> {\n    editorRef: React.RefObject<SunEditorCore | null> = React.createRef();\n\n    constructor(props: WriteArticleProps) {\n        super(props);\n        this.componentDidMount = this.componentDidMount.bind(this);\n        this.getArticleTitles = this.getArticleTitles.bind(this);\n        this.state = {\n            articleTitles: [],\n            currentArticle: undefined\n        };\n    }\n\n    getSunEditorInstance = (sunEditor: SunEditorCore) => {\n        this.editorRef.current = sunEditor;\n    };\n\n    handleChange(content: string) {\n        console.log('OnChange: ', content);\n    }\n\n    getArticleTitles() {\n        console.log(JSON.parse(JSON.stringify(contentManager.articles)));\n        this.setState({articleTitles: []});\n        contentManager.articles.forEach(article => {\n            this.setState({articleTitles: [...this.state.articleTitles, article.title]});\n        });\n\n        this.setState({currentArticle: contentManager.articles[0]});\n        this.editorRef.current?.setContents(this.state.currentArticle ? this.state.currentArticle.data : '');\n    }\n\n    updatePublish() {}\n\n    saveArticle(e: any) {\n        e.preventDefault();\n\n        contentManager.modifyArticle(this.state.currentArticle?.id, )\n    }\n\n    componentDidMount() {\n        contentManager.addListener('article', this.getArticleTitles);\n    }\n\n    componentWillUnmount() {\n        contentManager.removeListener('article', this.getArticleTitles);\n    }\n    render() {\n        return (\n            <>\n                <DropDown options={this.state.articleTitles} />\n                <form>\n                    <input\n                        type='text'\n                        placeholder={this.state.currentArticle ? this.state.currentArticle.title : 'Title'}\n                        onChange={this.state.currentArticle?.title}\n                    />\n                    <input\n                        type='text'\n                        placeholder={this.state.currentArticle ? this.state.currentArticle.description : 'Description'}\n                    />\n                    <label>\n                        published\n                        <input name='published' type='checkBox' onChange={this.updatePublish} />\n                    </label>\n\n                    <button onClick={this.saveArticle}>Save</button>\n                </form>\n                <SunEditor\n                    autoFocus={true}\n                    lang='en'\n                    setOptions={{\n                        showPathLabel: false,\n                        minHeight: '50vh',\n                        maxHeight: '50vh',\n                        placeholder: 'Your text here',\n                        plugins: [\n                            align,\n                            font,\n                            fontColor,\n                            fontSize,\n                            formatBlock,\n                            hiliteColor,\n                            horizontalRule,\n                            lineHeight,\n                            list,\n                            paragraphStyle,\n                            table,\n                            template,\n                            textStyle,\n                            image,\n                            link\n                        ],\n                        buttonList: [\n                            ['undo', 'redo'],\n                            ['font', 'fontSize', 'formatBlock'],\n                            ['paragraphStyle'],\n                            ['bold', 'underline', 'italic', 'strike', 'subscript', 'superscript'],\n                            ['fontColor', 'hiliteColor'],\n                            ['removeFormat'],\n                            '/', // Line break\n                            ['outdent', 'indent'],\n                            ['align', 'horizontalRule', 'list', 'lineHeight'],\n                            ['table', 'link', 'image']\n                        ],\n                        formats: ['p', 'div', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n                        font: [\n                            'Arial',\n                            'Calibri',\n                            'Comic Sans',\n                            'Courier',\n                            'Garamond',\n                            'Georgia',\n                            'Impact',\n                            'Lucida Console',\n                            'Palatino Linotype',\n                            'Segoe UI',\n                            'Tahoma',\n                            'Times New Roman',\n                            'Trebuchet MS'\n                        ]\n                    }}\n                    onChange={this.handleChange}\n                    getSunEditorInstance={this.getSunEditorInstance}\n                    //                    defaultValue= {this.state.currentArticle ? this.state.currentArticle.data : \"<p>Your text here...</p>\"}\n                    defaultValue={this.state.currentArticle?.data}\n                />\n            </>\n        );\n    }\n}\n\nexport default WriteArticle;\n"]},"metadata":{},"sourceType":"module"}